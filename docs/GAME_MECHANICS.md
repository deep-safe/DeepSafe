# ğŸ® Game Mechanics

Deepsafe uses a "Core Loop" designed to build habit-forming behavior around learning. This document explains the rules of the game.

## ğŸ”„ The Core Loop

1.  **Trigger**: User receives a notification or wants to maintain their streak.
2.  **Action**: User selects a **Province** on the **Italy Map** and completes a "Training Mission".
3.  **Reward**: User earns **XP**, **NeuroCredits (NC)**, and unlocks adjacent provinces.
4.  **Investment**: User spends NC in the **Black Market** to buy upgrades, avatars, or safety nets.

## â¤ï¸ Lives System (Hearts)

The "Hearts" system adds stakes to every quiz.
- **Max Lives**: Default is **5**.
- **Losing Lives**: Every incorrect answer in a quiz deducts **1 Heart**.
- **Zero Lives**: If you hit 0, you cannot start new missions.
- **Refilling**:
    - **Time**: +1 Heart every 4 hours (Passive).
    - **Ad**: Watch a simulated ad for +1 Heart (Active).
    - **Shop**: Buy a "System Reboot" for full health.
    - **Premium**: "Deepsafe Elite" users have **Infinite Lives**.

## ğŸ“ˆ XP & Leveling

Experience Points (XP) measure progress and determine Leaderboard rank.
- **Base Reward**: +100-250 XP per mission (varies by difficulty).
- **Leveling**: XP contributes to your "Agent Level", unlocking new Avatars.

## ğŸ‡®ğŸ‡¹ The Italy Map (Campaign)

The map is the central navigation hub, replacing the traditional linear saga map.
- **Structure**: The map is divided into **20 Regions** and **107 Provinces**.
- **Progression**:
    - You start in **Molise**.
    - Completing a province unlocks its neighbors.
    - Completing all provinces in a region grants a **Regional Mastery** bonus.
- **Fog of War**:
    - **Locked**: Dark Grey. Cannot be accessed yet.
    - **Unlocked**: Blue. Available to play.
    - **Mastered**: Gold/Neon. Completed with a high score.

## ğŸ”¥ Streak Logic

Streaks are the primary retention metric.
- **Definition**: Logging in consecutively every day (24-hour period).
- **Daily Reward**: Upon the first login of the day, a "Streak Reward" modal appears.
- **Missed Day**: If you miss a day, the streak resets to 1.
- **Streak Freeze**: An item purchasable in the Shop. Automatically consumes itself to save your streak if you miss a day.

## ğŸ† Province Mastery & Scoring

The map reflects your skill level through a dynamic coloring system:
- **Standard Completion**: Completing a mission unlocks the next node.
- **Mastery (Gold)**: Achieving 100% accuracy on a mission makes the province glow Gold.
- **High Score**: The system always preserves your best score.

## ğŸ… Badges

Badges are permanent achievements displayed on the Profile, representing milestones in your journey.

### Acquisition Methods
1.  **Region Mastery**: Awarded for completing all missions in a specific region (e.g., "Conquistatore del Veneto").
2.  **Level Milestones**: Specific levels grant unique badges upon completion (e.g., completing the "2FA Setup" level awards the "Shield Bearer" badge).
3.  **Skill Achievements**: Earned by mastering specific topics (e.g., "Scam Slayer" for Phishing modules).

### Display System
The badge system uses a **Sequential Queue** to ensure you never miss a reward. If you unlock multiple badges simultaneously (e.g., finishing a region which also completes a level milestone), they will be presented one by one with a cinematic delay, ensuring each achievement gets its moment of glory.

## ğŸ›’ The Black Market (Shop)

The economy runs on **NeuroCredits (NC)**.
- **Earning NC**: Complete missions, maintain streaks, or buy packs.
- **Spending NC**:
    - **Mystery Box**: Random rewards (XP, Credits, Freezes).
    - **Streak Freeze**: Protect your streak.
    - **System Reboot**: Refill lives.
    - **Avatars**: Cosmetic upgrades for your profile.
